{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\AudioCoracao.js"],"names":["cc","Class","extends","Component","properties","vidaMinima","type","Float","default","range","slide","_audioCoracao","AudioSource","onLoad","getComponent","director","getScene","on","tocarAudio","evento","dados","getUserData","vidaRestante","vidaAtual","vidaMaxima","isPlaying","loop","play"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACVC,oBAAa;AACXC,kBAAON,GAAGO,KADC;AAETC,qBAAU,EAFD;AAGTC,mBAAO,CAAC,CAAD,EAAG,CAAH,CAHE;AAITC,mBAAQ;AAJC,SADH;AAORC,uBAAgBX,GAAGY;AAPX,KAHP;;AAaJC,UAbI,oBAaM;AACN,aAAKF,aAAL,GAAqB,KAAKG,YAAL,CAAkBd,GAAGY,WAArB,CAArB;AACAZ,WAAGe,QAAH,CAAYC,QAAZ,GAAuBC,EAAvB,CAA0B,oBAA1B,EAAgD,KAAKC,UAArD,EAAiE,IAAjE;AACH,KAhBG;;AAiBLA,gBAAa,oBAASC,MAAT,EAAgB;AACzB,YAAIC,QAAQD,OAAOE,WAAP,EAAZ;AACA,YAAIC,eAAeF,MAAMG,SAAN,GAAkBH,MAAMI,UAA3C;AACA,YAAGF,eAAe,KAAKjB,UAApB,IAAkC,CAAC,KAAKM,aAAL,CAAmBc,SAAzD,EAAmE;AAC/D,iBAAKd,aAAL,CAAmBe,IAAnB,GAA0B,IAA1B;AACA,iBAAKf,aAAL,CAAmBgB,IAAnB;AACH;AACJ;;AAxBI,CAAT","file":"AudioCoracao.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      vidaMinima : {\r\n        type : cc.Float,\r\n          default : .5,\r\n          range: [0,1],\r\n          slide : true,\r\n      },\r\n        _audioCoracao : cc.AudioSource,\r\n    },\r\n\r\n     onLoad () {\r\n         this._audioCoracao = this.getComponent(cc.AudioSource);\r\n         cc.director.getScene().on(\"JogadoraPerdeuVida\", this.tocarAudio, this);\r\n     },\r\n    tocarAudio : function(evento){\r\n        let dados = evento.getUserData();\r\n        let vidaRestante = dados.vidaAtual / dados.vidaMaxima;\r\n        if(vidaRestante < this.vidaMinima && !this._audioCoracao.isPlaying){\r\n            this._audioCoracao.loop = true;\r\n            this._audioCoracao.play();\r\n        }\r\n    }\r\n\r\n   \r\n});\r\n"]}