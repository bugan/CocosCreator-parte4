{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\GeradorDeInimigos.js"],"names":["cc","Class","extends","Component","properties","tempoParaGerar","Float","inimigoPrefab","Prefab","raio","_distanciaMinima","onLoad","schedule","gerar","resolucao","director","getVisibleSize","metadeDaLargura","width","possoGerar","posicao","calcularPosicao","zumbi","instantiate","parent","node","position","alcance","Vec2","Math","random","normalize","mul","add","distanciaAtual","sub","Camera","main","mag","longeOSuficiente"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,wBAAgBL,GAAGM,KADX;AAERC,uBAAgBP,GAAGQ,MAFX;AAGRC,cAAOT,GAAGM,KAHF;AAIRI,0BAAmBV,GAAGM;AAJd,KAHP;;AAULK,YAAQ,kBAAY;AAChB,aAAKC,QAAL,CAAc,KAAKC,KAAnB,EAA0B,KAAKR,cAA/B;AACA,YAAIS,YAAYd,GAAGe,QAAH,CAAYC,cAAZ,EAAhB;AACA,YAAIC,kBAAkBH,UAAUI,KAAV,GAAiB,CAAvC;AACA,aAAKR,gBAAL,GAAwBO,eAAxB;AACH,KAfI;AAgBLJ,WAAQ,iBAAU;AACd,YAAG,KAAKM,UAAL,EAAH,EAAqB;AACjB,gBAAIC,UAAU,KAAKC,eAAL,EAAd;AACA,gBAAIC,QAAQtB,GAAGuB,WAAH,CAAe,KAAKhB,aAApB,CAAZ;AACAe,kBAAME,MAAN,GAAe,KAAKC,IAAL,CAAUD,MAAzB;AACAF,kBAAMI,QAAN,GAAiBN,OAAjB;AACH;AACJ,KAvBI;;AAyBLC,qBAAkB,2BAAU;AACxB,YAAIM,UAAU,IAAI3B,GAAG4B,IAAP,CAAYC,KAAKC,MAAL,KAAe,GAA3B,EAAiCD,KAAKC,MAAL,KAAe,GAAhD,CAAd;AACAH,kBAAUA,QAAQI,SAAR,EAAV;AACAJ,kBAAUA,QAAQK,GAAR,CAAY,KAAKvB,IAAL,GAAYoB,KAAKC,MAAL,EAAxB,CAAV;;AAEA,YAAIV,UAAU,KAAKK,IAAL,CAAUC,QAAV,CAAmBO,GAAnB,CAAuBN,OAAvB,CAAd;AACA,eAAOP,OAAP;AACH,KAhCI;AAiCLD,gBAAa,sBAAU;AACnB,YAAIe,iBAAiB,KAAKT,IAAL,CAAUC,QAAV,CAAmBS,GAAnB,CAAuBnC,GAAGoC,MAAH,CAAUC,IAAV,CAAeZ,IAAf,CAAoBC,QAA3C,CAArB;AACAQ,yBAAiBA,eAAeI,GAAf,EAAjB;AACA,YAAIC,mBAAmBL,iBAAiB,KAAKxB,gBAA7C;AACA,eAAO6B,gBAAP;AACH;;AAtCI,CAAT","file":"GeradorDeInimigos.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tempoParaGerar: cc.Float,\n        inimigoPrefab : cc.Prefab,\n        raio : cc.Float,\n        _distanciaMinima : cc.Float,\n    },\n\n    onLoad: function () {\n        this.schedule(this.gerar, this.tempoParaGerar);\n        let resolucao = cc.director.getVisibleSize();\n        let metadeDaLargura = resolucao.width /2;\n        this._distanciaMinima = metadeDaLargura;\n    },\n    gerar : function(){\n        if(this.possoGerar()){\n            let posicao = this.calcularPosicao();\n            let zumbi = cc.instantiate(this.inimigoPrefab);\n            zumbi.parent = this.node.parent;\n            zumbi.position = posicao;\n        }\n    },\n\n    calcularPosicao : function(){\n        let alcance = new cc.Vec2(Math.random() -0.5 , Math.random() -0.5);\n        alcance = alcance.normalize();\n        alcance = alcance.mul(this.raio * Math.random());\n\n        let posicao = this.node.position.add(alcance);\n        return posicao;\n    },\n    possoGerar : function(){\n        let distanciaAtual = this.node.position.sub(cc.Camera.main.node.position);\n        distanciaAtual = distanciaAtual.mag();\n        let longeOSuficiente = distanciaAtual > this._distanciaMinima;\n        return longeOSuficiente;\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n"]}