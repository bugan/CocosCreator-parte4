{"version":3,"sources":["LimitadorDeZumbis.js"],"names":["cc","Class","extends","Component","properties","limiteDeInimigos","Float","prefabInimigo","Prefab","_pool","NodePool","onLoad","inimigo","i","instantiate","put","director","getScene","on","retornarInstancia","devolverZumbi","evento","outroNode","getUserData","node","emit","instancia","novoZumbi","pai","posicao","zumbi","get","parent","position"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,0BAAkBL,GAAGM,KADb;AAERC,uBAAeP,GAAGQ,MAFV;AAGRC,eAAOT,GAAGU;AAHF,KAHP;;AASLC,UATK,oBASI;AACL,aAAKF,KAAL,GAAa,IAAIT,GAAGU,QAAP,CAAgB,SAAhB,CAAb;AACA,YAAIE,gBAAJ;AACA,aAAI,IAAIC,IAAE,CAAV,EAAcA,IAAE,KAAKR,gBAArB,EAAwCQ,GAAxC,EAA4C;AACxCD,sBAAUZ,GAAGc,WAAH,CAAe,KAAKP,aAApB,CAAV;AACA,iBAAKE,KAAL,CAAWM,GAAX,CAAeH,OAAf;AACH;AACDZ,WAAGgB,QAAH,CAAYC,QAAZ,GAAuBC,EAAvB,CAA0B,2BAA1B,EAAuD,KAAKC,iBAA5D,EAA+E,IAA/E;AACAnB,WAAGgB,QAAH,CAAYC,QAAZ,GAAuBC,EAAvB,CAA0B,aAA1B,EAAyC,KAAKE,aAA9C,EAA6D,IAA7D;AACH,KAlBI;;;AAoBLD,uBAAmB,2BAASE,MAAT,EAAgB;AAC/B,YAAIC,YAAYD,OAAOE,WAAP,GAAqBC,IAArC;AACAF,kBAAUG,IAAV,CAAe,sBAAf,EAAuC,EAACC,WAAW,IAAZ,EAAvC;AACH,KAvBI;;AAyBLC,eAAW,mBAASC,GAAT,EAAcC,OAAd,EAAsB;AAC7B,YAAIC,QAAQ,KAAKrB,KAAL,CAAWsB,GAAX,EAAZ;AACA,YAAGD,SAAS,IAAZ,EAAiB;AACbA,kBAAME,MAAN,GAAeJ,GAAf;AACAE,kBAAMG,QAAN,GAAiBJ,OAAjB;AACH;AACJ,KA/BI;;AAiCLT,mBAAe,uBAASC,MAAT,EAAgB;AAC3B,YAAIS,QAAQT,OAAOE,WAAP,EAAZ;AACA,aAAKd,KAAL,CAAWM,GAAX,CAAee,KAAf;AACH;;AApCI,CAAT","file":"LimitadorDeZumbis.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        limiteDeInimigos: cc.Float,\r\n        prefabInimigo: cc.Prefab,\r\n        _pool: cc.NodePool,\r\n    },\r\n\r\n    onLoad() {\r\n        this._pool = new cc.NodePool(\"Inimigo\");\r\n        let inimigo;\r\n        for(let i=0 ; i<this.limiteDeInimigos ; i++){\r\n            inimigo = cc.instantiate(this.prefabInimigo);\r\n            this._pool.put(inimigo);\r\n        }\r\n        cc.director.getScene().on(\"BuscarInstanciaPoolZumbis\", this.retornarInstancia, this);\r\n        cc.director.getScene().on(\"ZumbiMorreu\", this.devolverZumbi, this);\r\n    },\r\n\r\n    retornarInstancia: function(evento){\r\n        let outroNode = evento.getUserData().node;\r\n        outroNode.emit(\"receberInstanciaPool\", {instancia: this});\r\n    },\r\n\r\n    novoZumbi: function(pai, posicao){\r\n        let zumbi = this._pool.get();\r\n        if(zumbi != null){\r\n            zumbi.parent = pai;\r\n            zumbi.position = posicao;\r\n        }\r\n    },\r\n\r\n    devolverZumbi: function(evento){\r\n        let zumbi = evento.getUserData();\r\n        this._pool.put(zumbi);\r\n    }\r\n\r\n});\r\n"]}